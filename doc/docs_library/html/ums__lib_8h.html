<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UMS library: ums_lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UMS library
   </div>
   <div id="projectbrief">Windows UMS mechanism implementation for Linux distribution</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ums__lib_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ums_lib.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file is a header of the library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &quot;<a class="el" href="list_8h_source.html">list.h</a>&quot;</code><br />
<code>#include &quot;../module/device_shared.h&quot;</code><br />
</div>
<p><a href="ums__lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcl__list.html">cl_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of completion lists.  <a href="structcl__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structworker__thread__list.html">worker_thread_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of worker threads.  <a href="structworker__thread__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structums__thread__list.html">ums_thread_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of ums threads(schedulers)  <a href="structums__thread__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcompletion__list.html">completion_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The completion list of worker threads.  <a href="structcompletion__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structworker__thread.html">worker_thread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The worker thread.  <a href="structworker__thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structums__thread.html">ums_thread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ums thread(scheduler)  <a href="structums__thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aea7ae0576acbc64d3210309eb168dc9c"><td class="memItemLeft" align="right" valign="top"><a id="aea7ae0576acbc64d3210309eb168dc9c" name="aea7ae0576acbc64d3210309eb168dc9c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UMS_DEVICE_PATH</b>&#160;&#160;&#160;&quot;/dev/umsdevice&quot;</td></tr>
<tr class="separator:aea7ae0576acbc64d3210309eb168dc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac87189ed29451ac92f89b6e8889054d9"><td class="memItemLeft" align="right" valign="top"><a id="ac87189ed29451ac92f89b6e8889054d9" name="ac87189ed29451ac92f89b6e8889054d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UMS_LIB_LOG</b>&#160;&#160;&#160;&quot;UMS lib: &quot;</td></tr>
<tr class="separator:ac87189ed29451ac92f89b6e8889054d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a8e754ddaa2697e9e675579912a15f"><td class="memItemLeft" align="right" valign="top"><a id="ac9a8e754ddaa2697e9e675579912a15f" name="ac9a8e754ddaa2697e9e675579912a15f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_STACK_SIZE</b>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:ac9a8e754ddaa2697e9e675579912a15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a331020b397767045df55c3440bcfe919"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcl__list.html">cl_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a331020b397767045df55c3440bcfe919">cl_list_t</a></td></tr>
<tr class="memdesc:a331020b397767045df55c3440bcfe919"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of completion lists.  <a href="ums__lib_8h.html#a331020b397767045df55c3440bcfe919">More...</a><br /></td></tr>
<tr class="separator:a331020b397767045df55c3440bcfe919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7394272d57022d03b53178cbc1c260"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structworker__thread__list.html">worker_thread_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a0b7394272d57022d03b53178cbc1c260">worker_thread_list_t</a></td></tr>
<tr class="memdesc:a0b7394272d57022d03b53178cbc1c260"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of worker threads.  <a href="ums__lib_8h.html#a0b7394272d57022d03b53178cbc1c260">More...</a><br /></td></tr>
<tr class="separator:a0b7394272d57022d03b53178cbc1c260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c358a86004735824917343df36009f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structums__thread__list.html">ums_thread_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a35c358a86004735824917343df36009f">ums_thread_list_t</a></td></tr>
<tr class="memdesc:a35c358a86004735824917343df36009f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of ums threads(schedulers)  <a href="ums__lib_8h.html#a35c358a86004735824917343df36009f">More...</a><br /></td></tr>
<tr class="separator:a35c358a86004735824917343df36009f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa2faf3090172d4cd003dbf1704efbb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcompletion__list.html">completion_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a3aa2faf3090172d4cd003dbf1704efbb">completion_list_t</a></td></tr>
<tr class="memdesc:a3aa2faf3090172d4cd003dbf1704efbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The completion list of worker threads.  <a href="ums__lib_8h.html#a3aa2faf3090172d4cd003dbf1704efbb">More...</a><br /></td></tr>
<tr class="separator:a3aa2faf3090172d4cd003dbf1704efbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283231e0eca6d5c5c7450ed0c40e1ccf"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structworker__thread.html">worker_thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a283231e0eca6d5c5c7450ed0c40e1ccf">worker_thread_t</a></td></tr>
<tr class="memdesc:a283231e0eca6d5c5c7450ed0c40e1ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The worker thread.  <a href="ums__lib_8h.html#a283231e0eca6d5c5c7450ed0c40e1ccf">More...</a><br /></td></tr>
<tr class="separator:a283231e0eca6d5c5c7450ed0c40e1ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c075daee7305cd294767817f16da96"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structums__thread.html">ums_thread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a47c075daee7305cd294767817f16da96">ums_thread_t</a></td></tr>
<tr class="memdesc:a47c075daee7305cd294767817f16da96"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ums thread(scheduler)  <a href="ums__lib_8h.html#a47c075daee7305cd294767817f16da96">More...</a><br /></td></tr>
<tr class="separator:a47c075daee7305cd294767817f16da96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f0e5bd0b9dad50cc339df9894adcd53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a5f0e5bd0b9dad50cc339df9894adcd53">init_ums</a> (void)</td></tr>
<tr class="memdesc:a5f0e5bd0b9dad50cc339df9894adcd53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize/enable UMS in the program/process.  <a href="ums__lib_8h.html#a5f0e5bd0b9dad50cc339df9894adcd53">More...</a><br /></td></tr>
<tr class="separator:a5f0e5bd0b9dad50cc339df9894adcd53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38621061488257d36f9bbdfda41f97bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a38621061488257d36f9bbdfda41f97bf">exit_ums</a> (void)</td></tr>
<tr class="memdesc:a38621061488257d36f9bbdfda41f97bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit/disable UMS in the program/process.  <a href="ums__lib_8h.html#a38621061488257d36f9bbdfda41f97bf">More...</a><br /></td></tr>
<tr class="separator:a38621061488257d36f9bbdfda41f97bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ce1900a0840e6b37a61c11f973cbb9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a75ce1900a0840e6b37a61c11f973cbb9">create_completion_list</a> (void)</td></tr>
<tr class="memdesc:a75ce1900a0840e6b37a61c11f973cbb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create completion list.  <a href="ums__lib_8h.html#a75ce1900a0840e6b37a61c11f973cbb9">More...</a><br /></td></tr>
<tr class="separator:a75ce1900a0840e6b37a61c11f973cbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154cdaed1247445afca2e79d9dbb6ecc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a154cdaed1247445afca2e79d9dbb6ecc">create_worker_thread</a> (void(*function)(void *), void *args, unsigned long stack_size)</td></tr>
<tr class="memdesc:a154cdaed1247445afca2e79d9dbb6ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create worker thread.  <a href="ums__lib_8h.html#a154cdaed1247445afca2e79d9dbb6ecc">More...</a><br /></td></tr>
<tr class="separator:a154cdaed1247445afca2e79d9dbb6ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5f98fd8afce15af00547799ef1c826"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a8f5f98fd8afce15af00547799ef1c826">add_worker_thread</a> (unsigned int completion_list_id, unsigned int worker_thread_id)</td></tr>
<tr class="memdesc:a8f5f98fd8afce15af00547799ef1c826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add worker thread to completion list.  <a href="ums__lib_8h.html#a8f5f98fd8afce15af00547799ef1c826">More...</a><br /></td></tr>
<tr class="separator:a8f5f98fd8afce15af00547799ef1c826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d33ae61bf2a9e89c2ff94b7993791d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#af4d33ae61bf2a9e89c2ff94b7993791d">enter_ums_scheduling_mode</a> (void(*function)(void *), unsigned long completion_list_id)</td></tr>
<tr class="memdesc:af4d33ae61bf2a9e89c2ff94b7993791d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter UMS scheduling mode.  <a href="ums__lib_8h.html#af4d33ae61bf2a9e89c2ff94b7993791d">More...</a><br /></td></tr>
<tr class="separator:af4d33ae61bf2a9e89c2ff94b7993791d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a89f4fc8fc11ddf826265f4c95768a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a33a89f4fc8fc11ddf826265f4c95768a">convert_to_ums_thread</a> (void *ums_thread_id)</td></tr>
<tr class="memdesc:a33a89f4fc8fc11ddf826265f4c95768a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert pthread into ums thread(scheduler)  <a href="ums__lib_8h.html#a33a89f4fc8fc11ddf826265f4c95768a">More...</a><br /></td></tr>
<tr class="separator:a33a89f4fc8fc11ddf826265f4c95768a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc8d8d4936394440b424107352dad49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a6bc8d8d4936394440b424107352dad49">exit_ums_scheduling_mode</a> (void)</td></tr>
<tr class="memdesc:a6bc8d8d4936394440b424107352dad49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit UMS scheduling mode.  <a href="ums__lib_8h.html#a6bc8d8d4936394440b424107352dad49">More...</a><br /></td></tr>
<tr class="separator:a6bc8d8d4936394440b424107352dad49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf01114d0d1719655e22cb69b51e1268"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#adf01114d0d1719655e22cb69b51e1268">dequeue_completion_list_items</a> (int *ready_wt_list)</td></tr>
<tr class="memdesc:adf01114d0d1719655e22cb69b51e1268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeue completion list.  <a href="ums__lib_8h.html#adf01114d0d1719655e22cb69b51e1268">More...</a><br /></td></tr>
<tr class="separator:adf01114d0d1719655e22cb69b51e1268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12eee99aa4872b888af399203b30ba83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a12eee99aa4872b888af399203b30ba83">execute_worker_thread</a> (int *ready_wt_list, int size, unsigned int worker_thread_id)</td></tr>
<tr class="memdesc:a12eee99aa4872b888af399203b30ba83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute specific worker thread.  <a href="ums__lib_8h.html#a12eee99aa4872b888af399203b30ba83">More...</a><br /></td></tr>
<tr class="separator:a12eee99aa4872b888af399203b30ba83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf29f0150d2f1fccb5734d66cd2a31c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#abf29f0150d2f1fccb5734d66cd2a31c0">worker_thread_yield</a> (yield_reason_t yield_reason)</td></tr>
<tr class="memdesc:abf29f0150d2f1fccb5734d66cd2a31c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause or finish worker thread.  <a href="ums__lib_8h.html#abf29f0150d2f1fccb5734d66cd2a31c0">More...</a><br /></td></tr>
<tr class="separator:abf29f0150d2f1fccb5734d66cd2a31c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2104cd2d3d9d9120deee336bd4a907f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a2104cd2d3d9d9120deee336bd4a907f6">get_next_ready_item</a> (int *ready_wt_list, int size)</td></tr>
<tr class="memdesc:a2104cd2d3d9d9120deee336bd4a907f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get next item from the list of ready worker threads.  <a href="ums__lib_8h.html#a2104cd2d3d9d9120deee336bd4a907f6">More...</a><br /></td></tr>
<tr class="separator:a2104cd2d3d9d9120deee336bd4a907f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14dc713595176c062112d91a3a913da8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a14dc713595176c062112d91a3a913da8">check_ready_wt_list</a> (int *ready_wt_list, int size)</td></tr>
<tr class="memdesc:a14dc713595176c062112d91a3a913da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the list of ready worker threads is empty.  <a href="ums__lib_8h.html#a14dc713595176c062112d91a3a913da8">More...</a><br /></td></tr>
<tr class="separator:a14dc713595176c062112d91a3a913da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b971dbc0683158b4aee548eeea14fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a02b971dbc0683158b4aee548eeea14fa">open_dev</a> (void)</td></tr>
<tr class="memdesc:a02b971dbc0683158b4aee548eeea14fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open /dev/umsdevice device.  <a href="ums__lib_8h.html#a02b971dbc0683158b4aee548eeea14fa">More...</a><br /></td></tr>
<tr class="separator:a02b971dbc0683158b4aee548eeea14fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea1bab04bbb44f6becfcae9bdc8cb6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a4ea1bab04bbb44f6becfcae9bdc8cb6a">close_dev</a> (void)</td></tr>
<tr class="memdesc:a4ea1bab04bbb44f6becfcae9bdc8cb6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close /dev/umsdevice device.  <a href="ums__lib_8h.html#a4ea1bab04bbb44f6becfcae9bdc8cb6a">More...</a><br /></td></tr>
<tr class="separator:a4ea1bab04bbb44f6becfcae9bdc8cb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f17c63d34a99bc8ee100746a9c7e2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#ab8f17c63d34a99bc8ee100746a9c7e2f">get_wt_count_in_current_umst_cl</a> (void)</td></tr>
<tr class="memdesc:ab8f17c63d34a99bc8ee100746a9c7e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of worker threads in completion list of current ums thread(scheduler)  <a href="ums__lib_8h.html#ab8f17c63d34a99bc8ee100746a9c7e2f">More...</a><br /></td></tr>
<tr class="separator:ab8f17c63d34a99bc8ee100746a9c7e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dd4f6e3382061149242d4ad43c0562"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ums__lib_8h.html#a3aa2faf3090172d4cd003dbf1704efbb">completion_list_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a10dd4f6e3382061149242d4ad43c0562">get_cl_with_id</a> (unsigned int completion_list_id)</td></tr>
<tr class="memdesc:a10dd4f6e3382061149242d4ad43c0562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get completion list from <a class="el" href="ums__lib_8h.html#a331020b397767045df55c3440bcfe919">cl_list_t</a>.  <a href="ums__lib_8h.html#a10dd4f6e3382061149242d4ad43c0562">More...</a><br /></td></tr>
<tr class="separator:a10dd4f6e3382061149242d4ad43c0562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875ac05c0e7c61f46a910b1815a1ad9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ums__lib_8h.html#a283231e0eca6d5c5c7450ed0c40e1ccf">worker_thread_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a875ac05c0e7c61f46a910b1815a1ad9d">get_wt_with_id</a> (unsigned int worker_thread_id)</td></tr>
<tr class="memdesc:a875ac05c0e7c61f46a910b1815a1ad9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get worker thread from <a class="el" href="ums__lib_8h.html#a0b7394272d57022d03b53178cbc1c260">worker_thread_list_t</a>.  <a href="ums__lib_8h.html#a875ac05c0e7c61f46a910b1815a1ad9d">More...</a><br /></td></tr>
<tr class="separator:a875ac05c0e7c61f46a910b1815a1ad9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabca1624adb9c3e49c9da3d588be00a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ums__lib_8h.html#a47c075daee7305cd294767817f16da96">ums_thread_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#aaabca1624adb9c3e49c9da3d588be00a">get_umst_run_by_pthread</a> (pthread_t current_pt)</td></tr>
<tr class="memdesc:aaabca1624adb9c3e49c9da3d588be00a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get ums thread(scheduler) from <a class="el" href="ums__lib_8h.html#a35c358a86004735824917343df36009f">ums_thread_list_t</a>.  <a href="ums__lib_8h.html#aaabca1624adb9c3e49c9da3d588be00a">More...</a><br /></td></tr>
<tr class="separator:aaabca1624adb9c3e49c9da3d588be00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d928286f28d72c20c361130928869f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#ab3d928286f28d72c20c361130928869f">free_ums_thread_list</a> (void)</td></tr>
<tr class="memdesc:ab3d928286f28d72c20c361130928869f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the list of ums threads(schedulers)  <a href="ums__lib_8h.html#ab3d928286f28d72c20c361130928869f">More...</a><br /></td></tr>
<tr class="separator:ab3d928286f28d72c20c361130928869f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0387cff4a6b18c39234f35926c4973d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#aa0387cff4a6b18c39234f35926c4973d">free_cl_list</a> (void)</td></tr>
<tr class="memdesc:aa0387cff4a6b18c39234f35926c4973d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the list of completion lists.  <a href="ums__lib_8h.html#aa0387cff4a6b18c39234f35926c4973d">More...</a><br /></td></tr>
<tr class="separator:aa0387cff4a6b18c39234f35926c4973d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e586774ba40c4fb7525730e8939717e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#a0e586774ba40c4fb7525730e8939717e">free_worker_thread_list</a> (void)</td></tr>
<tr class="memdesc:a0e586774ba40c4fb7525730e8939717e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean the list of worker threads.  <a href="ums__lib_8h.html#a0e586774ba40c4fb7525730e8939717e">More...</a><br /></td></tr>
<tr class="separator:a0e586774ba40c4fb7525730e8939717e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43699ccb343e62b230ad2722ad378da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ums__lib_8h.html#af43699ccb343e62b230ad2722ad378da">clean_memory</a> (void)</td></tr>
<tr class="memdesc:af43699ccb343e62b230ad2722ad378da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean memory.  <a href="ums__lib_8h.html#af43699ccb343e62b230ad2722ad378da">More...</a><br /></td></tr>
<tr class="separator:af43699ccb343e62b230ad2722ad378da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f430ffba96dfa86e94e53bb4ae2c4c"><td class="memItemLeft" align="right" valign="top"><a id="a47f430ffba96dfa86e94e53bb4ae2c4c" name="a47f430ffba96dfa86e94e53bb4ae2c4c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((constructor)) void const ructor(void)</td></tr>
<tr class="separator:a47f430ffba96dfa86e94e53bb4ae2c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8389e7ed5dcd45e373c0d91ecc34d58a"><td class="memItemLeft" align="right" valign="top"><a id="a8389e7ed5dcd45e373c0d91ecc34d58a" name="a8389e7ed5dcd45e373c0d91ecc34d58a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__attribute__</b> ((destructor)) void destructor(void)</td></tr>
<tr class="separator:a8389e7ed5dcd45e373c0d91ecc34d58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file is a header of the library. </p>
<p >Copyright (C) 2021 Sultan Umarbaev <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sul'+'27'+'@gm'+'ai'+'l.c'+'om'; return false;">name.<span style="display: none;">.nosp@m.</span>sul2<span style="display: none;">.nosp@m.</span>7@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a></p>
<p >This file is part of UMS implementation (Library).</p>
<p >UMS implementation (Library) is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p >UMS implementation (Library) is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p >You should have received a copy of the GNU General Public License along with UMS implementation (Library). If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<p >This file contains all the data structures and function declarations of library</p>
<dl class="section author"><dt>Author</dt><dd>Sultan Umarbaev <a href="#" onclick="location.href='mai'+'lto:'+'nam'+'e.'+'sul'+'27'+'@gm'+'ai'+'l.c'+'om'; return false;">name.<span style="display: none;">.nosp@m.</span>sul2<span style="display: none;">.nosp@m.</span>7@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a331020b397767045df55c3440bcfe919" name="a331020b397767045df55c3440bcfe919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331020b397767045df55c3440bcfe919">&#9670;&nbsp;</a></span>cl_list_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcl__list.html">cl_list</a> <a class="el" href="ums__lib_8h.html#a331020b397767045df55c3440bcfe919">cl_list_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The list of completion lists. </p>
<p >The purpose of this list is to store all completion lists created by the program </p>

</div>
</div>
<a id="a3aa2faf3090172d4cd003dbf1704efbb" name="a3aa2faf3090172d4cd003dbf1704efbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa2faf3090172d4cd003dbf1704efbb">&#9670;&nbsp;</a></span>completion_list_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcompletion__list.html">completion_list</a> <a class="el" href="ums__lib_8h.html#a3aa2faf3090172d4cd003dbf1704efbb">completion_list_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The completion list of worker threads. </p>
<p >This is a node in the <a class="el" href="structcl__list.html">cl_list</a>. </p>

</div>
</div>
<a id="a35c358a86004735824917343df36009f" name="a35c358a86004735824917343df36009f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c358a86004735824917343df36009f">&#9670;&nbsp;</a></span>ums_thread_list_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structums__thread__list.html">ums_thread_list</a> <a class="el" href="ums__lib_8h.html#a35c358a86004735824917343df36009f">ums_thread_list_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The list of ums threads(schedulers) </p>
<p >The purpose of this list is to store all ums threads(schedulers) created by the program </p>

</div>
</div>
<a id="a47c075daee7305cd294767817f16da96" name="a47c075daee7305cd294767817f16da96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c075daee7305cd294767817f16da96">&#9670;&nbsp;</a></span>ums_thread_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structums__thread.html">ums_thread</a> <a class="el" href="ums__lib_8h.html#a47c075daee7305cd294767817f16da96">ums_thread_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ums thread(scheduler) </p>
<p >This is a node in the <a class="el" href="structums__thread__list.html">ums_thread_list</a>. </p>

</div>
</div>
<a id="a0b7394272d57022d03b53178cbc1c260" name="a0b7394272d57022d03b53178cbc1c260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b7394272d57022d03b53178cbc1c260">&#9670;&nbsp;</a></span>worker_thread_list_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structworker__thread__list.html">worker_thread_list</a> <a class="el" href="ums__lib_8h.html#a0b7394272d57022d03b53178cbc1c260">worker_thread_list_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The list of worker threads. </p>
<p >The purpose of this list is to store all worker threads created by the program </p>

</div>
</div>
<a id="a283231e0eca6d5c5c7450ed0c40e1ccf" name="a283231e0eca6d5c5c7450ed0c40e1ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a283231e0eca6d5c5c7450ed0c40e1ccf">&#9670;&nbsp;</a></span>worker_thread_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structworker__thread.html">worker_thread</a> <a class="el" href="ums__lib_8h.html#a283231e0eca6d5c5c7450ed0c40e1ccf">worker_thread_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The worker thread. </p>
<p >This is a node in the <a class="el" href="structworker__thread__list.html">worker_thread_list</a>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8f5f98fd8afce15af00547799ef1c826" name="a8f5f98fd8afce15af00547799ef1c826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5f98fd8afce15af00547799ef1c826">&#9670;&nbsp;</a></span>add_worker_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_worker_thread </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>completion_list_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>worker_thread_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add worker thread to completion list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion_list_id</td><td>the id of completion list to which worker thread is added </td></tr>
    <tr><td class="paramname">worker_thread_id</td><td>the id of worker thread that is added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a14dc713595176c062112d91a3a913da8" name="a14dc713595176c062112d91a3a913da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dc713595176c062112d91a3a913da8">&#9670;&nbsp;</a></span>check_ready_wt_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_ready_wt_list </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ready_wt_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the list of ready worker threads is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ready_wt_list</td><td>the pointer to an array of ready to run worker thread ids </td></tr>
    <tr><td class="paramname">size</td><td>the size of the array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> 0 if false, otherwise true </dd></dl>

</div>
</div>
<a id="af43699ccb343e62b230ad2722ad378da" name="af43699ccb343e62b230ad2722ad378da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43699ccb343e62b230ad2722ad378da">&#9670;&nbsp;</a></span>clean_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clean_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean memory. </p>
<p >Clean up all created by the library data structures from the memory. </p>

</div>
</div>
<a id="a4ea1bab04bbb44f6becfcae9bdc8cb6a" name="a4ea1bab04bbb44f6becfcae9bdc8cb6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea1bab04bbb44f6becfcae9bdc8cb6a">&#9670;&nbsp;</a></span>close_dev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int close_dev </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close /dev/umsdevice device. </p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a33a89f4fc8fc11ddf826265f4c95768a" name="a33a89f4fc8fc11ddf826265f4c95768a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a89f4fc8fc11ddf826265f4c95768a">&#9670;&nbsp;</a></span>convert_to_ums_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * convert_to_ums_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ums_thread_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert pthread into ums thread(scheduler) </p>
<p >Convert current thread into ums thread(scheduler). This function is passed to pthread_create(), therefore the created pthread is converted into ums thread(scheduler).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<p>c int the id of ums thread(scheduler) into which to convert </p>

</div>
</div>
<a id="a75ce1900a0840e6b37a61c11f973cbb9" name="a75ce1900a0840e6b37a61c11f973cbb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ce1900a0840e6b37a61c11f973cbb9">&#9670;&nbsp;</a></span>create_completion_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_completion_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create completion list. </p>
<p >Create a new completion list and return a corresponding id. Add the completion list to <a class="el" href="structcl__list.html">cl_list</a>.</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> completion list id </dd></dl>

</div>
</div>
<a id="a154cdaed1247445afca2e79d9dbb6ecc" name="a154cdaed1247445afca2e79d9dbb6ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154cdaed1247445afca2e79d9dbb6ecc">&#9670;&nbsp;</a></span>create_worker_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_worker_thread </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>stack_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create worker thread. </p>
<p >Create a new worker thread and return a corresponding id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>the address of the starting function of the worker thread </td></tr>
    <tr><td class="paramname">args</td><td>the address of arguments allocated by the user passed to the function (first parameter) </td></tr>
    <tr><td class="paramname">stack_size</td><td>the stack size that is used for calculating the stack address after memory allocation with malloc function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> worker thread id </dd></dl>

</div>
</div>
<a id="adf01114d0d1719655e22cb69b51e1268" name="adf01114d0d1719655e22cb69b51e1268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf01114d0d1719655e22cb69b51e1268">&#9670;&nbsp;</a></span>dequeue_completion_list_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dequeue_completion_list_items </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ready_wt_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dequeue completion list. </p>
<p >Obtain a set of currently available worker threads to be run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ready_wt_list</td><td>the pointer to an allocated array of integers which will be filled with ready to run worker thread ids </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="af4d33ae61bf2a9e89c2ff94b7993791d" name="af4d33ae61bf2a9e89c2ff94b7993791d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d33ae61bf2a9e89c2ff94b7993791d">&#9670;&nbsp;</a></span>enter_ums_scheduling_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int enter_ums_scheduling_mode </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>completion_list_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter UMS scheduling mode. </p>
<p >Create ums thread(scheduler) and pthread which will be converted to ums thread created earlier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>an entry point function for the ums thread(scheduler), scheduling function </td></tr>
    <tr><td class="paramname">completion_list_id</td><td>the id of completion list with worker threads associated with ums thread(scheduler) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a12eee99aa4872b888af399203b30ba83" name="a12eee99aa4872b888af399203b30ba83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12eee99aa4872b888af399203b30ba83">&#9670;&nbsp;</a></span>execute_worker_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int execute_worker_thread </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ready_wt_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>worker_thread_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute specific worker thread. </p>
<p >Execute worker thread given the id. The return result from ioctl call defines if requested worker thread is currently busy and handled by another ums thread(scheduler) or worker thread was already finished before. If it is busy then scheduler will try to execute next available thread from ready_wt_list. However, if it was already finished before ready_wt_list will be updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ready_wt_list</td><td>the pointer to an array of ready to run worker thread ids </td></tr>
    <tr><td class="paramname">size</td><td>the size of the array </td></tr>
    <tr><td class="paramname">worker_thread_id</td><td>the id of the worker thread to be executed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a38621061488257d36f9bbdfda41f97bf" name="a38621061488257d36f9bbdfda41f97bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38621061488257d36f9bbdfda41f97bf">&#9670;&nbsp;</a></span>exit_ums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exit_ums </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit/disable UMS in the program/process. </p>
<p >Synchronize the execution of the ums threads(schedulers).</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a6bc8d8d4936394440b424107352dad49" name="a6bc8d8d4936394440b424107352dad49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc8d8d4936394440b424107352dad49">&#9670;&nbsp;</a></span>exit_ums_scheduling_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exit_ums_scheduling_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit UMS scheduling mode. </p>
<p >Convert from ums thread(scheduler) back to pthread.</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="aa0387cff4a6b18c39234f35926c4973d" name="aa0387cff4a6b18c39234f35926c4973d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0387cff4a6b18c39234f35926c4973d">&#9670;&nbsp;</a></span>free_cl_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_cl_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean the list of completion lists. </p>
<p >Delete and free each item in the list of completion lists</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="ab3d928286f28d72c20c361130928869f" name="ab3d928286f28d72c20c361130928869f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d928286f28d72c20c361130928869f">&#9670;&nbsp;</a></span>free_ums_thread_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_ums_thread_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean the list of ums threads(schedulers) </p>
<p >Delete and free each item in the list of ums threads(schedulers)</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a0e586774ba40c4fb7525730e8939717e" name="a0e586774ba40c4fb7525730e8939717e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e586774ba40c4fb7525730e8939717e">&#9670;&nbsp;</a></span>free_worker_thread_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_worker_thread_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean the list of worker threads. </p>
<p >Delete and free each item in the list of worker threads</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a10dd4f6e3382061149242d4ad43c0562" name="a10dd4f6e3382061149242d4ad43c0562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10dd4f6e3382061149242d4ad43c0562">&#9670;&nbsp;</a></span>get_cl_with_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ums__lib_8h.html#a3aa2faf3090172d4cd003dbf1704efbb">completion_list_t</a> * get_cl_with_id </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>completion_list_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get completion list from <a class="el" href="ums__lib_8h.html#a331020b397767045df55c3440bcfe919">cl_list_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion_list_id</td><td>id of the completion list requested to be retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>completion_list_t</code> the pointer to completion list with specific id </dd></dl>

</div>
</div>
<a id="a2104cd2d3d9d9120deee336bd4a907f6" name="a2104cd2d3d9d9120deee336bd4a907f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2104cd2d3d9d9120deee336bd4a907f6">&#9670;&nbsp;</a></span>get_next_ready_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_next_ready_item </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ready_wt_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get next item from the list of ready worker threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ready_wt_list</td><td>the pointer to an array of ready to run worker thread ids </td></tr>
    <tr><td class="paramname">size</td><td>the size of the array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> worker thread id </dd></dl>

</div>
</div>
<a id="aaabca1624adb9c3e49c9da3d588be00a" name="aaabca1624adb9c3e49c9da3d588be00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaabca1624adb9c3e49c9da3d588be00a">&#9670;&nbsp;</a></span>get_umst_run_by_pthread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ums__lib_8h.html#a47c075daee7305cd294767817f16da96">ums_thread_t</a> * get_umst_run_by_pthread </td>
          <td>(</td>
          <td class="paramtype">pthread_t&#160;</td>
          <td class="paramname"><em>current_pt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get ums thread(scheduler) from <a class="el" href="ums__lib_8h.html#a35c358a86004735824917343df36009f">ums_thread_list_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ums_thread_id</td><td>id of the ums thread(scheduler) requested to be retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>ums_thread_t</code> the pointer to ums thread(scheduler) with specific id </dd></dl>

</div>
</div>
<a id="ab8f17c63d34a99bc8ee100746a9c7e2f" name="ab8f17c63d34a99bc8ee100746a9c7e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8f17c63d34a99bc8ee100746a9c7e2f">&#9670;&nbsp;</a></span>get_wt_count_in_current_umst_cl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_wt_count_in_current_umst_cl </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of worker threads in completion list of current ums thread(scheduler) </p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> number of worker threads </dd></dl>

</div>
</div>
<a id="a875ac05c0e7c61f46a910b1815a1ad9d" name="a875ac05c0e7c61f46a910b1815a1ad9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875ac05c0e7c61f46a910b1815a1ad9d">&#9670;&nbsp;</a></span>get_wt_with_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ums__lib_8h.html#a283231e0eca6d5c5c7450ed0c40e1ccf">worker_thread_t</a> * get_wt_with_id </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>worker_thread_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get worker thread from <a class="el" href="ums__lib_8h.html#a0b7394272d57022d03b53178cbc1c260">worker_thread_list_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker_thread_id</td><td>id of the worker thread requested to be retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>worker_thread_t</code> the pointer to worker thread with specific id </dd></dl>

</div>
</div>
<a id="a5f0e5bd0b9dad50cc339df9894adcd53" name="a5f0e5bd0b9dad50cc339df9894adcd53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0e5bd0b9dad50cc339df9894adcd53">&#9670;&nbsp;</a></span>init_ums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_ums </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize/enable UMS in the program/process. </p>
<p >In order to start utilizing UMS mechanism, we need to enable UMS for the program/process.</p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="a02b971dbc0683158b4aee548eeea14fa" name="a02b971dbc0683158b4aee548eeea14fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b971dbc0683158b4aee548eeea14fa">&#9670;&nbsp;</a></span>open_dev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_dev </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open /dev/umsdevice device. </p>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
<a id="abf29f0150d2f1fccb5734d66cd2a31c0" name="abf29f0150d2f1fccb5734d66cd2a31c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf29f0150d2f1fccb5734d66cd2a31c0">&#9670;&nbsp;</a></span>worker_thread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int worker_thread_yield </td>
          <td>(</td>
          <td class="paramtype">yield_reason_t&#160;</td>
          <td class="paramname"><em>yield_reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause or finish worker thread. </p>
<p >Pause or finish worker thread deppending on the passed reason.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">yield_reason</td><td>reason which defines if worker thread should be paused or finished, yield_reason_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>int</code> exit code 0 for success, otherwise a corresponding error code </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="ums__lib_8h.html">ums_lib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
